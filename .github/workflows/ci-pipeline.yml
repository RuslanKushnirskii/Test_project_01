name: CI Build Pipeline

# 1. –ö–û–ì–î–ê –ó–ê–ü–£–°–ö–ê–¢–¨ (–£–°–õ–û–í–ò–Ø –ê–ö–¢–ò–í–ê–¶–ò–ò)
on:
  push:
    branches: [ "main" ] # –ü–∞–π–ø–ª–∞–π–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ø—Ä–∏ –ø—É—à–µ –≤ –≤–µ—Ç–∫—É main
  pull_request:
    branches: [ "main" ] # ...–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Pull Request –≤ main

# 2. –ò–°–ü–û–õ–ù–ò–¢–ï–õ–¨ (–ê–ì–ï–ù–¢ / RUNNER)
jobs:
  build:
    runs-on: ubuntu-latest # <- –≠–¢–û –ù–ê–® "–ê–ì–ï–ù–¢". GitHub –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

    # 3. –®–ê–ì–ò –°–ë–û–†–û–ß–ù–û–ô –õ–ò–ù–ò–ò
    steps:
      # –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
      - name: Checkout repository code
        uses: actions/checkout@v4

      # –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ä–µ–¥—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è Node.js –ø—Ä–æ–µ–∫—Ç–∞)
      - name: Setup environment
        run: |
          echo "üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..."
          # –ó–¥–µ—Å—å –º–æ–≥–ª–∞ –±—ã –±—ã—Ç—å –∫–æ–º–∞–Ω–¥–∞ 'npm install' –∏–ª–∏ 'pip install'
          echo "‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (—ç–º—É–ª–∏—Ä–æ–≤–∞–Ω–æ)."

      # –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∫–æ–¥–∞ (–ª–∏–Ω—Ç–µ—Ä)
      - name: Run code linting
        run: |
          echo "üîç –ó–∞–ø—É—Å–∫–∞–µ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞..."
          # –ó–¥–µ—Å—å –º–æ–≥–ª–∞ –±—ã –±—ã—Ç—å –∫–æ–º–∞–Ω–¥–∞ 'npm run lint' –∏–ª–∏ 'pylint'
          echo "‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (—ç–º—É–ª–∏—Ä–æ–≤–∞–Ω–æ)."

      # –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
      - name: Run tests
        run: |
          echo "üß™ –ó–∞–ø—É—Å–∫–∞–µ–º —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã..."
          # –ó–¥–µ—Å—å –º–æ–≥–ª–∞ –±—ã –±—ã—Ç—å –∫–æ–º–∞–Ω–¥–∞ 'npm test' –∏–ª–∏ 'pytest'
          echo "‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ (—ç–º—É–ª–∏—Ä–æ–≤–∞–Ω–æ)."

      # –®–∞–≥ 5: –°–æ–±—Ä–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, Docker-–æ–±—Ä–∞–∑ –∏–ª–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫)
      - name: Build artifact
        run: |
          echo "üèóÔ∏è  –í—ã–ø–æ–ª–Ω—è–µ–º —Å–±–æ—Ä–∫—É –ø—Ä–æ–µ–∫—Ç–∞..."
          # –ó–¥–µ—Å—å –º–æ–≥–ª–∞ –±—ã –±—ã—Ç—å –∫–æ–º–∞–Ω–¥–∞ 'docker build' –∏–ª–∏ 'npm run build'
          echo "‚úÖ –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (—ç–º—É–ª–∏—Ä–æ–≤–∞–Ω–æ)."
          echo "üéâ –ü–∞–π–ø–ª–∞–π–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω!"
